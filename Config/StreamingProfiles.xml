<?xml version="1.0" encoding="utf-8"?>
<StreamingProfiles xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://mpextended.github.com/schema/config/StreamingProfiles/1">
  <!--
      WARNING: When you change this file, set <Customized> to true below. If you don't do that, changes WILL be overwritten by MPExtended.
      
               If you've set <Customized> to true, you've to manually put new profiles here on MPExtended upgrades. 
  -->
  <Customized>false</Customized>
  
  <ProfilesVersion>2</ProfilesVersion>
  <FFMpegPath>%mpextended-streaming%\ffmpeg.exe</FFMpegPath>

  <Transcoders>
    <!-- Direct profile -->
    <TranscoderProfile>
      <Name>Direct</Name>
      <Description>Direct streaming profile (no transcoding)</Description>
      <Bandwidth>10000</Bandwidth>
      <Targets>
        <Target>pc-vlc-video</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/x-unknown</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>1280</MaxOutputWidth>
      <MaxOutputHeight>720</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.Direct</Transcoder>
      <TranscoderParameters />
    </TranscoderProfile>

    <!-- Android FFMpeg profiles -->
    <TranscoderProfile>
      <Name>Android FFmpeg HD</Name>
      <Description>HD-quality Android profile based on ffmpeg</Description>
      <Bandwidth>2280</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MaxOutputWidth>1280</MaxOutputWidth>
      <MaxOutputHeight>720</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 1768k -profile:v baseline -preset:v faster -coder rle -codec:a aac -b:a 512k -ac 2 -strict experimental -async 1 -sn -f mpegts</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android FFmpeg ultra HQ</Name>
      <Description>Ultra high-quality Android profile based on ffmpeg</Description>
      <Bandwidth>1280</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MaxOutputWidth>800</MaxOutputWidth>
      <MaxOutputHeight>600</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 1024k -profile:v baseline -preset:v veryfast -coder rle -codec:a aac -b:a 256k -ac 2 -strict experimental -async 1 -sn -f mpegts</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android FFmpeg HQ</Name>
      <Description>High-quality Android profile based on ffmpeg</Description>
      <Bandwidth>896</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MaxOutputWidth>800</MaxOutputWidth>
      <MaxOutputHeight>600</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 768k -profile:v baseline -preset:v superfast -coder rle -codec:a aac -b:a 128k -ac 2 -strict experimental -async 1 -sn -f mpegts</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android FFmpeg medium</Name>
      <Description>Medium-quality Android profile based on ffmpeg</Description>
      <Bandwidth>640</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MaxOutputWidth>600</MaxOutputWidth>
      <MaxOutputHeight>400</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 512k -profile:v baseline -preset:v superfast -coder rle -codec:a aac -b:a 128k -ac 2 -strict experimental -async 1 -sn -f mpegts</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android FFmpeg LQ</Name>
      <Description>Low-quality Android profile based on ffmpeg</Description>
      <Bandwidth>320</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MaxOutputWidth>400</MaxOutputWidth>
      <MaxOutputHeight>300</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 256k -profile:v baseline -preset:v ultrafast -coder rle -codec:a aac -b:a 64k -ac 2 -strict experimental -async 1 -sn -f mpegts</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android FFmpeg ultra LQ</Name>
      <Description>Ultra low-quality Android profile based on ffmpeg</Description>
      <Bandwidth>176</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MaxOutputWidth>400</MaxOutputWidth>
      <MaxOutputHeight>300</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 128k -profile:v baseline -preset:v ultrafast -coder rle -codec:a aac -b:a 48k -ac 2 -strict experimental -async 1 -sn -f mpegts</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>

    <!-- Direct profile for Android -->
    <TranscoderProfile>
      <Name>Android VLC direct</Name>
      <Description>Direct Android profile based on VLC</Description>
      <Bandwidth>0</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>0</MaxOutputWidth>
      <MaxOutputHeight>0</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder></encoder>
        <muxer>:standard{access=file,mux=ts,dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>

    <!-- Android VLC profiles -->
    <TranscoderProfile>
      <Name>Android VLC HD</Name>
      <Description>HD-quality Android profile based on VLC</Description>
      <Bandwidth>2280</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MaxOutputWidth>1280</MaxOutputWidth>
      <MaxOutputHeight>720</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder>vcodec=h264,vb=1768,venc=x264{profile=baseline,preset=faster,no-cabac,trellis=0,keyint=50},deinterlace=-1,aenc=ffmpeg{aac-profile=low},acodec=mp4a,ab=512,samplerate=48000,channels=2,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ts,dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android VLC ultra HQ</Name>
      <Description>Ultra high-quality Android profile based on VLC</Description>
      <Bandwidth>1280</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>800</MaxOutputWidth>
      <MaxOutputHeight>600</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder>vcodec=h264,vb=1024,venc=x264{profile=baseline,preset=veryfast,no-cabac,trellis=0,keyint=50},deinterlace=-1,aenc=ffmpeg{aac-profile=low},acodec=mp4a,ab=256,samplerate=48000,channels=2,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ts,dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android VLC HQ</Name>
      <Description>High-quality Android profile based on VLC</Description>
      <Bandwidth>896</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>640</MaxOutputWidth>
      <MaxOutputHeight>480</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder>vcodec=h264,vb=768,venc=x264{profile=baseline,preset=superfast,no-cabac,trellis=0,keyint=50},deinterlace=-1,aenc=ffmpeg{aac-profile=low},acodec=mp4a,ab=128,samplerate=48000,channels=2,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ts,dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android VLC medium</Name>
      <Description>Medium-quality Android profile based on VLC</Description>
      <Bandwidth>640</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>640</MaxOutputWidth>
      <MaxOutputHeight>480</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder>vcodec=h264,vb=512,venc=x264{profile=baseline,preset=superfast,no-cabac,trellis=0,keyint=50},deinterlace=-1,aenc=ffmpeg{aac-profile=low},acodec=mp4a,ab=128,samplerate=48000,channels=2,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ts,dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android VLC LQ</Name>
      <Description>Low-quality Android profile based on VLC</Description>
      <Bandwidth>320</Bandwidth>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>400</MaxOutputWidth>
      <MaxOutputHeight>300</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder>vcodec=h264,vb=256,venc=x264{profile=baseline,preset=ultrafast,no-cabac,trellis=0,keyint=50},deinterlace=-1,aenc=ffmpeg{aac-profile=low},acodec=mp4a,ab=64,samplerate=48000,channels=2,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ts,dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Android VLC ultra LQ</Name>
      <Description>Ultra low-quality Android profile based on VLC</Description>
      <HasVideoStream>true</HasVideoStream>
      <MIME>video/MP2T</MIME>
      <MaxOutputWidth>400</MaxOutputWidth>
      <MaxOutputHeight>300</MaxOutputHeight>
      <Targets>
        <Target>android</Target>
      </Targets>
      <Bandwidth>176</Bandwidth>
      <Transport>http</Transport>
      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder>vcodec=h264,vb=128,venc=x264{profile=baseline,preset=ultrafast,no-cabac,trellis=0,keyint=50},deinterlace=-1,aenc=ffmpeg{aac-profile=low},acodec=mp4a,ab=48,samplerate=48000,channels=2,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ts,dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>

    <!-- HTTP Live Streaming -->
    <TranscoderProfile>
      <Name>HTTP Live Streaming HD</Name>
      <Description>HD-quality HTTP Live Streaming profile</Description>
      <Bandwidth>2024</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>1280</MaxOutputWidth>
      <MaxOutputHeight>720</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=1768,venc=x264{aud,level=30,keyint=50,bframes=0,profile=baseline,preset=faster},deinterlace=-1,acodec=mp4a,ab=256,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>ts{use-key-frames}</muxer>
        <httpLiveOptions>seglen=7,delsegs=false,numsegs=0</httpLiveOptions>
        <httpLiveKeepOld>5</httpLiveKeepOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>HTTP Live Streaming ultra HQ</Name>
      <Description>Ultra high-quality HTTP Live Streaming profile</Description>
      <Bandwidth>1280</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>960</MaxOutputWidth>
      <MaxOutputHeight>640</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=1024,venc=x264{aud,level=30,keyint=50,bframes=0,profile=baseline,preset=veryfast},deinterlace=-1,acodec=mp4a,ab=256,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>ts{use-key-frames}</muxer>
        <httpLiveOptions>seglen=7,delsegs=false,numsegs=0</httpLiveOptions>
        <httpLiveKeepOld>5</httpLiveKeepOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>HTTP Live Streaming HQ</Name>
      <Description>High-quality HTTP Live Streaming profile</Description>
      <Bandwidth>896</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>800</MaxOutputWidth>
      <MaxOutputHeight>480</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=768,venc=x264{aud,level=30,keyint=50,bframes=0,profile=baseline,preset=superfast},deinterlace=-1,acodec=mp4a,ab=128,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>ts{use-key-frames}</muxer>
        <httpLiveOptions>seglen=7,delsegs=false,numsegs=0</httpLiveOptions>
        <httpLiveKeepOld>5</httpLiveKeepOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>HTTP Live Streaming medium</Name>
      <Description>Medium-quality HTTP Live Streaming profile</Description>
      <Bandwidth>640</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>600</MaxOutputWidth>
      <MaxOutputHeight>480</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=512,venc=x264{aud,level=30,keyint=50,bframes=0,profile=baseline,preset=superfast},deinterlace=-1,acodec=mp4a,ab=128,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>ts{use-key-frames}</muxer>
        <httpLiveOptions>seglen=7,delsegs=false,numsegs=0</httpLiveOptions>
        <httpLiveKeepOld>5</httpLiveKeepOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>HTTP Live Streaming LQ</Name>
      <Description>Low-quality HTTP Live Streaming profile</Description>
      <Bandwidth>320</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>480</MaxOutputWidth>
      <MaxOutputHeight>320</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=256,venc=x264{aud,level=30,keyint=50,bframes=0,profile=baseline,preset=ultrafast},deinterlace=-1,acodec=mp4a,ab=64,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>ts{use-key-frames}</muxer>
        <httpLiveOptions>seglen=7,delsegs=false,numsegs=0</httpLiveOptions>
        <httpLiveRemoveOld>5</httpLiveRemoveOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>HTTP Live Streaming ultra LQ</Name>
      <Description>Ultra low-quality HTTP Live Streaming profile</Description>
      <Bandwidth>176</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>480</MaxOutputWidth>
      <MaxOutputHeight>320</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=128,venc=x264{aud,level=30,keyint=50,bframes=0,profile=baseline,preset=ultrafast},deinterlace=-1,acodec=mp4a,ab=48,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>ts{use-key-frames}</muxer>
        <httpLiveOptions>seglen=7,delsegs=false,numsegs=0</httpLiveOptions>
        <httpLiveRemoveOld>5</httpLiveRemoveOld>
      </TranscoderParameters>
    </TranscoderProfile>
    
    <!-- FFmpeg HTTP Live Streaming -->
    <TranscoderProfile>
      <Name>FFmpeg HTTP Live Streaming HD</Name>
      <Description>HD-quality HTTP Live Streaming profile based on ffmpeg</Description>
      <Bandwidth>2280</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>
      <MaxOutputWidth>1280</MaxOutputWidth>
      <MaxOutputHeight>720</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpegWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 1768k -profile:v baseline -preset:v faster -coder rle -keyint_min 25 -g 25 -codec:a aac -b:a 512k -ac 2 -strict experimental -async 1 -sn -bsf h264_mp4toannexb -flags -global_header -f segment -segment_list_flags +live -segment_time 5</codecParameters>
        <httpLiveRemoveOld>5</httpLiveRemoveOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>FFmpeg HTTP Live Streaming ultra HQ</Name>
      <Description>Ultra high-quality HTTP Live Streaming profile based on ffmpeg</Description>
      <Bandwidth>1280</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>
      <MaxOutputWidth>800</MaxOutputWidth>
      <MaxOutputHeight>600</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpegWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 1024k -profile:v baseline -preset:v veryfast -coder rle -keyint_min 25 -g 25 -codec:a aac -b:a 256k -ac 2 -strict experimental -async 1 -sn -bsf h264_mp4toannexb -flags -global_header -f segment -segment_list_flags +live -segment_time 5</codecParameters>
        <httpLiveRemoveOld>5</httpLiveRemoveOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>FFmpeg HTTP Live Streaming HQ</Name>
      <Description>High-quality HTTP Live Streaming profile based on ffmpeg</Description>
      <Bandwidth>896</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>
      <MaxOutputWidth>800</MaxOutputWidth>
      <MaxOutputHeight>600</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpegWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 768k -profile:v baseline -preset:v superfast -coder rle -keyint_min 25 -g 25 -codec:a aac -b:a 128k -ac 2 -strict experimental -async 1 -sn -bsf h264_mp4toannexb -flags -global_header -f segment -segment_list_flags +live -segment_time 5</codecParameters>
        <httpLiveRemoveOld>5</httpLiveRemoveOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>FFmpeg HTTP Live Streaming medium</Name>
      <Description>Medium-quality HTTP Live Streaming profile based on ffmpeg</Description>
      <Bandwidth>640</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>
      <MaxOutputWidth>600</MaxOutputWidth>
      <MaxOutputHeight>400</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpegWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 512k -profile:v baseline -preset:v superfast -coder rle -keyint_min 25 -g 25 -codec:a aac -b:a 128k -ac 2 -strict experimental -async 1 -sn -bsf h264_mp4toannexb -flags -global_header -f segment -segment_list_flags +live -segment_time 5</codecParameters>
        <httpLiveRemoveOld>5</httpLiveRemoveOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>FFmpeg HTTP Live Streaming LQ</Name>
      <Description>Low-quality HTTP Live Streaming profile based on ffmpeg</Description>
      <Bandwidth>320</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>
      <Transport>http</Transport>
      <MaxOutputWidth>400</MaxOutputWidth>
      <MaxOutputHeight>300</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpegWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 256k -profile:v baseline -preset:v ultrafast -coder rle -keyint_min 25 -g 25 -codec:a aac -b:a 64k -ac 1 -strict experimental -async 1 -sn -bsf h264_mp4toannexb -flags -global_header -f segment -segment_list_flags +live -segment_time 5</codecParameters>
        <httpLiveRemoveOld>5</httpLiveRemoveOld>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>FFmpeg HTTP Live Streaming ultra LQ</Name>
      <Description>Ultra low-quality HTTP Live Streaming profile based on ffmpeg</Description>
      <Bandwidth>176</Bandwidth>
      <Targets>
        <Target>android</Target>
        <Target>ios</Target>
        <Target>mobile-hls-video</Target>
      </Targets>
      <Transport>httplive</Transport>
      <MaxOutputWidth>400</MaxOutputWidth>
      <MaxOutputHeight>300</MaxOutputHeight>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpegWrapperHTTPLiveStreaming</Transcoder>
      <TranscoderParameters>
        <codecParameters>-codec:v libx264 -b:v 128k -profile:v baseline -preset:v ultrafast -coder rle -keyint_min 25 -g 25 -codec:a aac -b:a 48k -ac 1 -strict experimental -async 1 -sn -bsf h264_mp4toannexb -flags -global_header -f segment -segment_list_flags +live -segment_time 5</codecParameters>
        <httpLiveRemoveOld>5</httpLiveRemoveOld>
      </TranscoderParameters>
    </TranscoderProfile>

    <!-- Flash streaming for WebMediaPortal -->
    <TranscoderProfile>
      <Name>Flash HD</Name>
      <Description>HD-quality flash profile for WebMediaPortal</Description>
      <Bandwidth>2304</Bandwidth>
      <Targets>
        <Target>pc-flash-video</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/x-flv</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>1280</MaxOutputWidth>
      <MaxOutputHeight>720</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <flvMetadataInjection>yes</flvMetadataInjection>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder>vcodec=h264,vb=2048,venc=x264{profile=baseline,preset=faster},deinterlace=-1,acodec=mp4a,ab=256,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ffmpeg{mux=flv},dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Flash HQ</Name>
      <Description>High-quality flash profile for WebMediaPortal</Description>
      <Bandwidth>1472</Bandwidth>
      <Targets>
        <Target>pc-flash-video</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/x-flv</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>854</MaxOutputWidth>
      <MaxOutputHeight>480</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <flvMetadataInjection>yes</flvMetadataInjection>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <encoder>vcodec=h264,vb=1280,venc=x264{profile=baseline,preset=veryfast},deinterlace=-1,acodec=mp4a,ab=192,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ffmpeg{mux=flv},dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Flash medium</Name>
      <Description>Medium-quality flash profile for WebMediaPortal</Description>
      <Bandwidth>896</Bandwidth>
      <Targets>
        <Target>pc-flash-video</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/x-flv</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>854</MaxOutputWidth>
      <MaxOutputHeight>480</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <flvMetadataInjection>yes</flvMetadataInjection>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=768,venc=x264{profile=baseline,preset=superfast},deinterlace=-1,acodec=mp4a,ab=128,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ffmpeg{mux=flv},dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Flash LQ</Name>
      <Description>Low-quality flash profile for WebMediaPortal</Description>
      <Bandwidth>608</Bandwidth>
      <Targets>
        <Target>pc-flash-video</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/x-flv</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>640</MaxOutputWidth>
      <MaxOutputHeight>480</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <flvMetadataInjection>yes</flvMetadataInjection>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=512,venc=x264{profile=baseline,preset=ultrafast},deinterlace=-1,acodec=mp4a,ab=96,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ffmpeg{mux=flv},dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>Flash Ultra LQ</Name>
      <Description>Ultra low-quality flash profile for WebMediaPortal</Description>
      <Bandwidth>448</Bandwidth>
      <Targets>
        <Target>pc-flash-video</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/x-flv</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>500</MaxOutputWidth>
      <MaxOutputHeight>300</MaxOutputHeight>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <flvMetadataInjection>yes</flvMetadataInjection>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <options>--ffmpeg-hw --sout-ffmpeg-strict=-2</options>
        <tsOptions>--sout-mux-caching=5000</tsOptions>
        <encoder>vcodec=h264,vb=384,venc=x264{profile=baseline,preset=ultrafast},deinterlace=-1,acodec=mp4a,ab=64,channels=2,samplerate=48000,audio-sync</encoder>
        <muxer>:standard{access=file,mux=ffmpeg{mux=flv},dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>

    <!-- Audio-only streaming for WebMediaPortal -->
    <TranscoderProfile>
      <Name>Audio-only (MP3)</Name>
      <Description>Audio-only (MP3) profile for WebMediaPortal</Description>
      <Bandwidth>320</Bandwidth>
      <Targets>
        <Target>pc-flash-audio</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>audio/mpeg</MIME>
      <HasVideoStream>false</HasVideoStream>

      <Transcoder>MPExtended.Services.StreamingService.Transcoders.VLCWrapper</Transcoder>
      <TranscoderParameters>
        <path>%mpextended-streaming%\vlc-2.0.2\MPExtended.Libraries.VLCWrapper.exe</path>
        <encoder>vcodec=none,acodec=mp3,ab=320,channels=2,samplerate=48000</encoder>
        <muxer>:standard{access=file,mux=dummy,dst=#OUT#}</muxer>
      </TranscoderParameters>
    </TranscoderProfile>
    
    <!-- WP8 Streaming Profiles for native app (http://www.windowsphone.com/s?appid=2f4333f1-fd97-44d6-b234-1da04fd4f05b) -->
    <TranscoderProfile>
      <Name>WP8 FFmpeg WVGA</Name>
      <Description>WVGA Profile for WP8</Description>
      <Bandwidth>2280</Bandwidth>
      <Targets>
        <Target>windows-phone-ts</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>800</MaxOutputWidth>
      <MaxOutputHeight>480</MaxOutputHeight>
      
      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-x264opts no-cabac:trellis=0:keyint=50 -codec:v libx264 -b:v 1768k -r 25 -profile:v baseline -preset:v faster -coder rle -codec:a libmp3lame -b:a 128k -ac 2 -strict experimental -sn -f mpegts -async 1000</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>WP8 FFmpeg WXGA</Name>
      <Description>WXGA  Profile for WP8</Description>
      <Bandwidth>2280</Bandwidth>
      <Targets>
        <Target>windows-phone-ts</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>1280</MaxOutputWidth>
      <MaxOutputHeight>768</MaxOutputHeight>
      
      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-x264opts no-cabac:trellis=0:keyint=50 -codec:v libx264 -b:v 1768k -r 25 -profile:v baseline -preset:v faster -coder rle -codec:a libmp3lame -b:a 128k -ac 2 -strict experimental -sn -f mpegts -async 1000</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>
    <TranscoderProfile>
      <Name>WP8 FFmpeg 720p</Name>
      <Description>720p Profile for WP8</Description>
      <Bandwidth>2280</Bandwidth>
      <Targets>
        <Target>windows-phone-ts</Target>
      </Targets>
      <Transport>http</Transport>
      <MIME>video/MP2T</MIME>
      <HasVideoStream>true</HasVideoStream>
      <MaxOutputWidth>1280</MaxOutputWidth>
      <MaxOutputHeight>720</MaxOutputHeight>
      
      <Transcoder>MPExtended.Services.StreamingService.Transcoders.FFMpeg</Transcoder>
      <TranscoderParameters>
        <codecParameters>-x264opts no-cabac:trellis=0:keyint=50 -codec:v libx264 -b:v 1768k -r 25 -profile:v baseline -preset:v faster -coder rle -codec:a libmp3lame -b:a 128k -ac 2 -strict experimental -sn -f mpegts -async 1000</codecParameters>
      </TranscoderParameters>
    </TranscoderProfile>
  </Transcoders>
</StreamingProfiles>